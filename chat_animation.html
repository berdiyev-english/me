<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∏–º–∞—Ü–∏—è –ß–∞—Ç–∞ —Å –ö–æ—Ç–æ–º</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        body {
            background-color: #f0f2f5;
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .phone-screen {
            width: 100%;
            max-width: 400px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 800px;
            position: relative;
        }

        .header {
            background-color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            border-bottom: 1px solid #eee;
            color: #333;
            z-index: 10;
        }

        .chat-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            background-color: #fcfcfc;
            gap: 15px;
            scroll-behavior: smooth;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .message-row {
            display: flex;
            align-items: flex-end;
            width: 100%;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .message-row.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .user-row {
            justify-content: flex-end;
        }

        .bot-row {
            justify-content: flex-start;
        }

        /* --- –ê–≤–∞—Ç–∞—Ä–∫–∞ –ö–û–¢–ê --- */
        .avatar {
            width: 38px;
            height: 38px;
            background-color: #e75a4d; /* –¢–æ—Ç —Å–∞–º—ã–π —Ä—ã–∂–µ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            flex-shrink: 0;
            color: white;
            box-shadow: 0 2px 5px rgba(231, 90, 77, 0.3);
        }

        .avatar svg {
            width: 22px;
            height: 22px;
            fill: white;
        }

        /* –ü—É–∑—ã—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–π */
        .bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
            position: relative;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .user-msg {
            background-color: #29A19C; /* –ó–µ–ª–µ–Ω—ã–π Teal */
            color: white;
            border-bottom-right-radius: 4px;
        }

        .bot-msg {
            background-color: #F7F7F7;
            color: #1f1f1f;
            border-bottom-left-radius: 4px;
            border: 1px solid #eee;
        }

        /* –î–µ–∫–æ—Ä —Ç–µ–∫—Å—Ç–∞ */
        .file-attachment {
            display: flex;
            align-items: center;
            font-weight: 600;
        }
        
        .highlight-green {
            background-color: #d1fae5;
            color: #065f46;
            padding: 4px 8px;
            border-radius: 6px;
            display: inline-block;
            margin-top: 8px;
            font-weight: 600;
        }

        .warning-text {
            color: #d97706;
            font-weight: bold;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ */
        .typing-indicator {
            background-color: #f0f0f0;
            padding: 10px 15px;
            border-radius: 18px;
            display: none;
            align-self: flex-start;
            margin-left: 50px; /* –û—Ç—Å—Ç—É–ø –ø–æ–¥ –∞–≤–∞—Ç–∞—Ä */
            margin-bottom: 10px;
            width: fit-content;
        }

        .dot {
            height: 7px;
            width: 7px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.3s linear infinite;
        }
        .dot:nth-child(2) { animation-delay: 0.15s; }
        .dot:nth-child(3) { animation-delay: 0.3s; }

        @keyframes bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-4px); }
        }

        .restart-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
        }
        .restart-btn.show { opacity: 1; pointer-events: auto; }

    </style>
</head>
<body>

<div class="phone-screen">
    <div class="header">Bob AI Tutor üê±</div>
    
    <div class="chat-area" id="chatArea"></div>

    <div class="typing-indicator" id="typingIndicator">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
    </div>

    <button class="restart-btn" id="restartBtn" onclick="startChat()">‚Üª –ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
</div>

<script>
    const chatArea = document.getElementById('chatArea');
    const typingIndicator = document.getElementById('typingIndicator');
    const restartBtn = document.getElementById('restartBtn');

    const messages = [
        {
            type: 'user',
            text: '–ë–æ–±, —è –Ω–µ –ø–æ–Ω–∏–º–∞—é Past Simple –∏ Present Perfect üò≠ –û–±—ä—è—Å–Ω–∏ –ø—Ä–æ—Å—Ç–æ!'
        },
        {
            type: 'bot',
            text: `–ú—É—Ä-—Ä, –≤—Å—ë –ø—Ä–æ—Å—Ç–æ! üòé<br><br>
            üçï <b>Past Simple</b> ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç—ã —Å—ä–µ–ª –ø–∏—Ü—Ü—É –≤—á–µ—Ä–∞ (—Ñ–∞–∫—Ç –≤ –ø—Ä–æ—à–ª–æ–º).<br>
            ü§¢ <b>Present Perfect</b> ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç—ã —Å—ä–µ–ª –ø–∏—Ü—Ü—É –∏ —Ç–µ–±—è *–¥–æ —Å–∏—Ö –ø–æ—Ä* —Ç–æ—à–Ω–∏—Ç (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–∂–µ–Ω —Å–µ–π—á–∞—Å).`
        },
        {
            type: 'user',
            text: `<div class="file-attachment">
                    <span style="margin-right:8px; font-size: 1.2em;">üñºÔ∏è</span> –§–æ—Ç–æ: –ú–æ—ë —ç—Å—Å–µ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É (Project)
                   </div>`
        },
        {
            type: 'bot',
            text: `<b>–ü—Ä–æ–≤–µ—Ä—è—é –ó–∞–¥–∞–Ω–∏–µ 38 (Graph)</b> ü§ñ<br><br>
            1. –†–ö–ó (–†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏): 3/3<br>
            2. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: 2/3 (‚ö†Ô∏è <span class="warning-text">–û—à–∏–±–∫–∞</span>)<br>
            3. –õ–µ–∫—Å–∏–∫–∞: 3/3<br><br>
            <span class="highlight-green">–ò—Ç–æ–≥: 13/14 –±–∞–ª–ª–æ–≤</span><br><br>
            <b>–°–æ–≤–µ—Ç –∫–æ—Ç–∞:</b> –¢—ã –∑–∞–±—ã–ª –≤–≤–æ–¥–Ω–æ–µ —Å–ª–æ–≤–æ –≤ 3-–º –∞–±–∑–∞—Ü–µ. –ò—Å–ø–æ–ª—å–∑—É–π <i>"It is worth noting that..."</i>, —á—Ç–æ–±—ã —ç–∫—Å–ø–µ—Ä—Ç –Ω–µ —Å–Ω–∏–∑–∏–ª –±–∞–ª–ª.`
        }
    ];

    // –ò–∫–æ–Ω–∫–∞ –∫–æ—Ç–∞ (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞)
    const catIcon = `
    <svg viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 0"/>
        <path d="M19.5 18.5l-2-6-1.5 2.5h-8L6.5 12.5l-2 6H19.5z" opacity="0"/> 
        <!-- –†–∏—Å—É–µ–º –º–æ—Ä–¥–æ—á–∫—É –∫–æ—Ç–∞ -->
        <path d="M12,7c-2.76,0-5,2.24-5,5c0,0.64,0.13,1.25,0.35,1.82l-1.85,3.68l3.68-1.85C9.75,15.87,10.36,16,11,16
        c0.64,0,1.25-0.13,1.82-0.35l3.68,1.85l-1.85-3.68C14.87,13.25,15,12.64,15,12C15,9.24,12.76,7,12,7z M10,11
        c-0.55,0-1-0.45-1-1s0.45-1,1-1s1,0.45,1,1S10.55,11,10,11z M14,11c-0.55,0-1-0.45-1-1s0.45-1,1-1s1,0.45,1,1S14.55,11,14,11z"/>
    </svg>
    `;

    function createMessageElement(msg) {
        const row = document.createElement('div');
        row.classList.add('message-row');
        
        if (msg.type === 'user') {
            row.classList.add('user-row');
            row.innerHTML = `<div class="bubble user-msg">${msg.text}</div>`;
        } else {
            row.classList.add('bot-row');
            row.innerHTML = `
                <div class="avatar">${catIcon}</div>
                <div class="bubble bot-msg">${msg.text}</div>
            `;
        }
        return row;
    }

    async function wait(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function startChat() {
        chatArea.innerHTML = ''; 
        restartBtn.classList.remove('show');
        typingIndicator.style.display = 'none';

        // 1. –í–æ–ø—Ä–æ—Å
        await wait(500);
        let msg1 = createMessageElement(messages[0]);
        chatArea.appendChild(msg1);
        setTimeout(() => msg1.classList.add('visible'), 50);

        // 2. –ë–æ—Ç –ø–∏—à–µ—Ç
        await wait(800);
        typingIndicator.style.display = 'block';
        chatArea.scrollTop = chatArea.scrollHeight;

        // 3. –û—Ç–≤–µ—Ç
        await wait(2000); 
        typingIndicator.style.display = 'none';
        let msg2 = createMessageElement(messages[1]);
        chatArea.appendChild(msg2);
        setTimeout(() => msg2.classList.add('visible'), 50);
        chatArea.scrollTop = chatArea.scrollHeight;

        // 4. –ö–∞—Ä—Ç–∏–Ω–∫–∞
        await wait(1500);
        let msg3 = createMessageElement(messages[2]);
        chatArea.appendChild(msg3);
        setTimeout(() => msg3.classList.add('visible'), 50);
        chatArea.scrollTop = chatArea.scrollHeight;

        // 5. –ë–æ—Ç –ø–∏—à–µ—Ç
        await wait(800);
        typingIndicator.style.display = 'block';
        chatArea.scrollTop = chatArea.scrollHeight;

        // 6. –û—Ü–µ–Ω–∫–∞
        await wait(2500);
        typingIndicator.style.display = 'none';
        let msg4 = createMessageElement(messages[3]);
        chatArea.appendChild(msg4);
        setTimeout(() => msg4.classList.add('visible'), 50);
        chatArea.scrollTop = chatArea.scrollHeight;

        await wait(1000);
        restartBtn.classList.add('show');
    }

    window.onload = startChat;
</script>

</body>
</html>
